{"ast":null,"code":"var _jsxFileName = \"/home/berre/Desktop/react_demo/src/components/WaypointForm.jsx\";\nimport React, { Component } from 'react';\nimport Config from \"../scripts/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass WaypointForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      ros: null,\n      x: 0,\n      y: 0,\n      z: 0,\n      connected: false\n    };\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: parseFloat(value)\n      });\n    };\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        x,\n        y,\n        z\n      } = this.state;\n      const twist = new window.ROSLIB.Message({\n        linear: {\n          x,\n          y,\n          z\n        },\n        angular: {\n          x: 0,\n          y: 0,\n          z: 0\n        }\n      });\n      const cmd_vel = new window.ROSLIB.Topic({\n        ros: this.state.ros,\n        // ROS örneği burada kullanılıyor\n        name: \"cmd_vel\",\n        messageType: \"geometry_msgs/Twist\"\n      });\n      cmd_vel.publish(twist);\n    };\n  }\n  componentDidMount() {\n    this.init_connection();\n  }\n  init_connection() {\n    const ros = new window.ROSLIB.Ros();\n    console.log(ros);\n    ros.on(\"connection\", () => {\n      console.log(\"connection established in Teleoperation Component!\");\n      console.log(ros);\n      this.setState({\n        ros,\n        connected: true\n      });\n    });\n    ros.on(\"close\", () => {\n      console.log(\"connection is closed!\");\n      this.setState({\n        connected: false\n      });\n      setTimeout(() => {\n        try {\n          ros.connect(`ws://${Config.ROSBRIDGE_SERVER_IP}:${Config.ROSBRIDGE_SERVER_PORT}`);\n        } catch (error) {\n          console.log(\"connection problem \");\n        }\n      }, Config.RECONNECTION_TIMER);\n    });\n    try {\n      ros.connect(`ws://${Config.ROSBRIDGE_SERVER_IP}:${Config.ROSBRIDGE_SERVER_PORT}`);\n    } catch (error) {\n      console.log(`ws://${Config.ROSBRIDGE_SERVER_IP}:${Config.ROSBRIDGE_SERVER_PORT}`);\n      console.log(\"connection problem \");\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Send Waypoint\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"X:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"x\",\n          value: this.state.x,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Y:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"y\",\n          value: this.state.y,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Z:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"z\",\n          value: this.state.z,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Hareket Et\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default WaypointForm;","map":{"version":3,"names":["React","Component","Config","jsxDEV","_jsxDEV","WaypointForm","constructor","args","state","ros","x","y","z","connected","handleChange","event","name","value","target","setState","parseFloat","handleSubmit","preventDefault","twist","window","ROSLIB","Message","linear","angular","cmd_vel","Topic","messageType","publish","componentDidMount","init_connection","Ros","console","log","on","setTimeout","connect","ROSBRIDGE_SERVER_IP","ROSBRIDGE_SERVER_PORT","error","RECONNECTION_TIMER","render","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange"],"sources":["/home/berre/Desktop/react_demo/src/components/WaypointForm.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport Config from \"../scripts/config\";\n\nclass WaypointForm extends Component {\n  state = {\n    ros: null,\n    x: 0,\n    y: 0,\n    z: 0,\n    connected: false,\n  };\n\n  componentDidMount() {\n    this.init_connection();\n  }\n\n  init_connection() {\n    const ros = new window.ROSLIB.Ros();\n    console.log(ros);\n\n    ros.on(\"connection\", () => {\n      console.log(\"connection established in Teleoperation Component!\");\n      console.log(ros);\n      this.setState({ ros, connected: true });\n    });\n\n    ros.on(\"close\", () => {\n      console.log(\"connection is closed!\");\n      this.setState({ connected: false });\n      setTimeout(() => {\n        try {\n          ros.connect(\n            `ws://${Config.ROSBRIDGE_SERVER_IP}:${Config.ROSBRIDGE_SERVER_PORT}`\n          );\n        } catch (error) {\n          console.log(\"connection problem \");\n        }\n      }, Config.RECONNECTION_TIMER);\n    });\n\n    try {\n      ros.connect(\n        `ws://${Config.ROSBRIDGE_SERVER_IP}:${Config.ROSBRIDGE_SERVER_PORT}`\n      );\n    } catch (error) {\n      console.log(`ws://${Config.ROSBRIDGE_SERVER_IP}:${Config.ROSBRIDGE_SERVER_PORT}`);\n      console.log(\"connection problem \");\n    }\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: parseFloat(value) });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { x, y, z } = this.state;\n    const twist = new window.ROSLIB.Message({\n      linear: { x, y, z },\n      angular: { x: 0, y: 0, z: 0 },\n    });\n    const cmd_vel = new window.ROSLIB.Topic({\n      ros: this.state.ros, // ROS örneği burada kullanılıyor\n      name: \"cmd_vel\",\n      messageType: \"geometry_msgs/Twist\",\n    });\n    cmd_vel.publish(twist);\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <h2>Send Waypoint</h2>\n        <label>\n          X:\n          <input\n            type=\"number\"\n            name=\"x\"\n            value={this.state.x}\n            onChange={this.handleChange}\n          />\n        </label>\n        <label>\n          Y:\n          <input\n            type=\"number\"\n            name=\"y\"\n            value={this.state.y}\n            onChange={this.handleChange}\n          />\n        </label>\n        <label>\n          Z:\n          <input\n            type=\"number\"\n            name=\"z\"\n            value={this.state.z}\n            onChange={this.handleChange}\n          />\n        </label>\n        <button type=\"submit\">Hareket Et</button>\n      </form>\n    );\n  }\n}\n\nexport default WaypointForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}